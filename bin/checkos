#!/bin/bash

# Usage: ./check_checksum.sh /path/to/file expected_checksum

FILE="$1"
EXPECTED="$2"

if [ ! -f "$FILE" ]; then
  echo "File not found: $FILE"
  exit 1
fi

# Calculate SHA256 checksum
CALCULATED=$(sha256sum "$FILE" | awk '{print $1}')

if [ "$CALCULATED" == "$EXPECTED" ]; then
  echo "Checksum matches! ✅"
  exit 0
else
  echo "Checksum does NOT match! ❌"
  echo "Expected: $EXPECTED"
  echo "Got:      $CALCULATED"
  exit 1
fi
